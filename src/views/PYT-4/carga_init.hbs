<style>
  .none {
    display: none;
  }
  @media(min-width: 768px) {
       table.dataTable.table-responsive:not(.datatables-ajax) {
    display: table !important;
}
    }
</style>
<link rel="stylesheet" type="text/css" href="../../../app-assets/vendors/css/extensions/jquery.contextMenu.min.css">
<link rel="stylesheet" type="text/css" href="../../../app-assets/vendors/css/extensions/toastr.min.css">
<link rel="stylesheet" type="text/css" href="../../../app-assets/css/plugins/extensions/ext-component-toastr.css">
<link rel="stylesheet" type="text/css" href="../../../app-assets/css/plugins/extensions/ext-component-context-menu.css">
<script>
  $(function(){
  $('#chofer_carga').on('change', () => {
    var option = $('#chofer_carga').find(':selected');

    var id_chofer = option.data("id");
    console.log(id_chofer)
    $("#id_chofer_carga").val(id_chofer);
  })
  })
</script>
{{#if msg}}
<label id="msgs">{{msg}}</label>
{{/if}}
<input type="text" id="array_carga" hidden value="{{carga_}}">
<input type="text" id="asignados" hidden value="{{asignados}}">
<!-- BEGIN: Content-->
<div class="app-content content ">
  <div class="content-overlay"></div>
  <div class="header-navbar-shadow"></div>
  <div class="content-wrapper">
    <div class="content-header row">
    </div>
    <div class="content-body">
      <section id="basic-datatable">
        <div class="row d-none">
          <div class="scrolling-inside-modal">

            <!-- Button trigger modal -->
            <button type="button" class="btn btn-outline-primary text-primary waves-effect mb-2" data-bs-toggle="modal"
              data-bs-target="#asignar_chofer">
              Asignar
            </button>



          </div>
          <div class="col-12 ">
            <div class="card">

              <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
              </div>
              <div class="card-body">
                <h4 class="card-title">Asignación de chofer</h4>
                <p class="card-text"> </p>
              </div>
              <!--<div class="d-flex justify-content-between align-items-center mx-0 row none"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="DataTables_Table_0_length"><label>Show <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="form-select"><option value="7">7</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="75">75</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"></div></div>-->

              <section id="basic-datatable">
                <div class="d-flex justify-content-between align-items-center mx-0 row">

                    <!--<div class="col-md-4">
                        <label class="form-label">City:</label>
                        <input type="text" class="form-control dt-input" data-column="4" placeholder="Balky" data-column-index="3" />
                    </div>-->
                    <div class="col-md-4">
                        <label class="form-label">Fecha:</label>
                        <div class="mb-0 d-flex">
                            <!--<input type="text" class="form-control dt-date flatpickr-range dt-input" data-column="5"  data-column-index="4" name="dt_date" />-->
                            <input type="text" class="form-control  start_date dt-input me-md-1" data-column="5" data-column-index="4" name="value_from_start_date" placeholder="Fecha desde" id="min_asig"/>
                            <input type="text" class="form-control  end_date dt-input" name="value_from_end_date" data-column="5" data-column-index="4" placeholder="Fecha hasta" id="max_asig"/>
                        </div>
                    </div>
                
                </div>
                <div class="row">
                  <div class="col-12">
                    <div class="table-responsive">
                      <div class="card">
                        <table class="datatables-basic_asig_chofer dt-column-asig_chofer table-responsive">
                          <thead>
                            <tr>
                              <th>id</th>
                              <th>Chofer</th>
                              <th>Vehiculo Asignado</th>
                              <th>Zona</th>
                              <th>Fecha de asignación</th>
                              <th>Opciones</th>
                            </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

            </div>
          </div>
        </div>
        <div class="row">
          <div class="scrolling-inside-modal">

            <!-- Button trigger modal -->
            <button type="button" class="btn btn-outline-primary text-primary waves-effect mb-2" data-bs-toggle="modal"
              data-bs-target="#carga_inicial_modal">
              Agregar
            </button>



          </div>
          <div class="col-12">
            <div class="card">

              <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
              </div>
              <div class="card-body">
                <h4 class="card-title">Carga Inicial</h4>
                <p class="card-text"> </p>
              </div>
              <!--<div class="d-flex justify-content-between align-items-center mx-0 row none"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="DataTables_Table_0_length"><label>Show <select name="DataTables_Table_0_length" aria-controls="DataTables_Table_0" class="form-select"><option value="7">7</option><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="75">75</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"></div></div>-->

              <section id="basic-datatable">
                <div class="d-flex justify-content-between align-items-center mx-0 row">

                    <!--<div class="col-md-4">
                        <label class="form-label">City:</label>
                        <input type="text" class="form-control dt-input" data-column="4" placeholder="Balky" data-column-index="3" />
                    </div>-->
                    <div class="col-md-4">
                        <label class="form-label">Fecha:</label>
                        <div class="mb-0 d-flex">
                            <!--<input type="text" class="form-control dt-date flatpickr-range dt-input" data-column="5"  data-column-index="4" name="dt_date" />-->
                            <input type="text" class="form-control  start_date dt-input me-md-1" data-column="5" data-column-index="4" name="value_from_start_date" placeholder="Fecha desde" id="min1"/>
                            <input type="text" class="form-control  end_date dt-input" name="value_from_end_date" data-column="5" data-column-index="4" placeholder="Fecha hasta" id="max1"/>
                        </div>
                    </div>
                
                </div>
                <div class="row">
                  <div class="col-12">
                    <div class="table-responsive">
                      <div class="card">
                        <table class="table datatables-basic_carga_init dt-column-search_carga_init table-responsive">
                          <thead>
                            <tr>
                              <th>Chofer</th>
                              <th>Carga Inicial</th>
                              <th>Fecha de carga</th>
                              <th>Opciones</th>
                              <!--<th>Opciones</th>-->
                            </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

            </div>
          </div>
        </div>
    </div>


    <!-- Modal to add new record -->
    <!-- Modal -->
    <div class="modal fade" id="carga_inicial_modal" tabindex="-1" aria-labelledby="addEmployedTitle" style="display: none;"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addEmployedTitle">Agregar Carga</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form class="needs-validation was-validated" id="form_cargaincial">
              <div class="form-group"><label for="register-firstName" class="form-label">Ingrese la cantidad de carga inicial</label>
                <input type="text" name="carga_init" placeholder="Carga" aria-describedby="register-firstName"
                  tabindex="1" autofocus="" class="form-control mb-2" required>
              </div>
              <div class="form-group">
                        <label for="register-ciudad" class="form-label">Seleccione un chofer</label>
                        <select name="chofer" placeholder="Chofer" aria-describedby="register-ciudad" tabindex="3"
                            class="form-control mb-2" id='chofer_carga'>
                            <option default>Seleccione un chofer</option>
                            {{#each choferes_ as |chofer i |}}
                            <option data-id="{{id}}">{{name}} {{lastName}}</option>
                            {{/each}}
                        </select>
                        <input type="hidden" id="id_chofer_carga" name="id_chofer_carga">
                    </div>
          </div>
          <div class="modal-footer">
            <button type="button" id="btn_carga_inicial"
              class="btn btn-primary btn-block waves-effect waves-float waves-light">Registrar</button>
          </div>
          </form>
        </div>
      </div>
    </div>

   <div class="modal fade" id="recarga" tabindex="-1" aria-labelledby="addEmployedTitle" style="display: none;"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addEmployedTitle">Agregar Carga</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form class="needs-validation was-validated" id="form_recarga">
              <input type="hidden" name="id_carga" placeholder="Carga" id="id_carga">
              <div class="form-group"><label for="register-firstName" class="form-label">Ingrese la cantidad de recarga</label>
                <input type="text" name="recarga" placeholder="Carga" id="recarga_name"
                  tabindex="1" autofocus="" class="form-control mb-2" required>
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" id="btn_recarga"
              class="btn btn-primary btn-block waves-effect waves-float waves-light">Registrar</button>
          </div>
          </form>
        </div>
      </div>
    </div>

        <div class="modal fade" id="asignar_chofer" tabindex="-1" aria-labelledby="addEmployedTitle" style="display: none;"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addEmployedTitle">Asignar Chofer</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form class="needs-validation was-validated" id="form_asig_chofer">

              <div class="form-group">
                        <label for="register-ciudad" class="form-label">Seleccione un chofer</label>
                        <select name="chofer" placeholder="Chofer" aria-describedby="register-ciudad" tabindex="3"
                            class="form-control mb-2" id='chofer_carga'>
                            <option default>Seleccione un chofer</option>
                            {{#each choferes_ as |chofer i |}}
                            <option value="{{id}}" data-id="{{id}}">{{name}} {{lastName}}</option>
                            {{/each}}
                        </select>
                        <input type="hidden" id="id_chofer_carga" >
                    </div>
              
              <div class="form-group"><label for="register-sucursal"
                  class="form-label">Vehiculo Asignado</label>
                  <select class="select2 form-select mb-2 form-control" id="select_vehiculo_edit_personal" name="vehiculo">
                    {{#each vehiculos_let as |vehiculo i|}}
                            <option value="{{id}}">{{marca}} {{modelo}}/{{matricula}}</option>
                        {{/each}}
                        </select>
                </select>
                </div>

                         <div class="form-group"><label for="register-sucursal" class="form-label">Zona</label><select
                  aria-describedby="register-sucursal" tabindex="24" name="zona" class="form-control mb-2" id="edit_perso_zona">
                  <option selected="">Seleccione una Zona</option>
                  {{#each sucursales_let as |sucursal i|}}
                  <option value={{id}}> {{nombre}} </option>
                  {{/each}}
                </select></div>

          </div>
          <div class="modal-footer">
            <button type="button"
              class="btn btn-primary btn-block waves-effect waves-float waves-light" id="btn_asignar">Registrar</button>
          </div>
          </form>
        </div>
      </div>
    </div>
    <div class="modal fade" id="edit_asignar_chofer" tabindex="-1" aria-labelledby="addEmployedTitle" style="display: none;"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addEmployedTitle">Editar asignar Chofer</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form class="needs-validation was-validated" id="form_asig_chofer_editd">
                <input type="hidden" id="id_asig" name="id_asig" />
              <div class="form-group">
                        <label for="register-ciudad" class="form-label">Seleccione un chofer</label>
                        <select name="chofer" placeholder="Chofer" aria-describedby="register-ciudad" tabindex="3"
                            class="form-control mb-2" id='edit_chofer_carga'>
                            <option default>Seleccione un chofer</option>
                            {{#each choferes_ as |chofer i |}}
                            <option value="{{id}}" data-id="{{id}}">{{name}} {{lastName}}</option>
                            {{/each}}
                        </select>
                        <input type="hidden" id="id_chofer_carga" >
                    </div>
              
              <div class="form-group"><label for="register-sucursal"
                  class="form-label">Vehiculo Asignado</label>
                  <select class="select2 form-select mb-2 form-control" id="vehiculo_asig_edit" name="vehiculo">
                    {{#each vehiculos_let as |vehiculo i|}}
                            <option value="{{id}}">{{marca}} {{modelo}}/{{matricula}}</option>
                        {{/each}}
                        </select>
                </select>
                </div>

                         <div class="form-group"><label for="register-sucursal" class="form-label">Zona</label><select
                  aria-describedby="register-sucursal" tabindex="24" name="zona" class="form-control mb-2" id="edit_zona_asig">
                  <option selected="">Seleccione una Zona</option>
                  {{#each sucursales_let as |sucursal i|}}
                  <option value={{id}}> {{nombre}} </option>
                  {{/each}}
                </select></div>

          </div>
          <div class="modal-footer">
            <button type="button"
              class="btn btn-primary btn-block waves-effect waves-float waves-light" id="btn_asignar_edit">Guardar</button>
          </div>
          </form>
        </div>
      </div>
    </div>
    <div class="modal fade" id="detail_recarga" tabindex="-1" aria-labelledby="detail_recarga"
            style="display: none;" aria-hidden="detail_recarga">
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="detail_recarga_title"></h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" id='detail_recarga_body'>
                        
                        </div>
                        <div class="modal-footer">
                            
                        </div>
                    </div>
                </div>
            </div>
    </section>
  </div>
</div>
</div>
</div>
</div>




<!-- END: Content-->