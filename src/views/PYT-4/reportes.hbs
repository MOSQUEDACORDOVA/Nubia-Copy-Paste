<style>
  .none {
    display: none;
  }
</style>

{{#if msg}}
<label id="msgs">{{msg}}</label>
{{/if}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  function ucwords(str, force) {
    str = force ? str.toLowerCase() : str;
    return str.replace(/(\b)([a-zA-Z])/g,
      function (firstLetter) {
        return firstLetter.toUpperCase();
      });
  }
  $(document).ready(function () {
    $('input[type="text"]').keyup(function (evt) { // force: true to lower case all letter except first 
      // var cp_value= ucfirst($(this).val(),true) ; // to capitalize all words //
      var cp_value = ucwords($(this).val(), true);
      $(this).val(cp_value);
    });
     $('#btncuponera1').on('click', (e)=> {
        Reset(1)
    });
    $('#btnsnpedido').on('click', (e)=> {
        Reset(2);
    });
    $('#btndeudores').on('click', (e)=> {
        Reset(3);
    });
 $('#select_filter_notif').on('change', (e)=> {
   console.log(e.target.value)
   
    $('#notificacion-1_2').removeClass('show');
        $('#notificacion-1_2').addClass('collpase');

        $('#notificacion-3_5').removeClass('show');
        $('#notificacion-3_5').addClass('collpase');

        $('#notificacion-6_12').removeClass('show');
        $('#notificacion-6_12').addClass('collpase');

        
        switch (e.target.value){
            case '1':
                $('#notificacion-1_2').removeClass('collpase');
                $('#notificacion-1_2').addClass('show');
            break;
            case '2':
                $('#notificacion-3_5').removeClass('collpase');
                $('#notificacion-3_5').addClass('show');
            break;
            case '3':
                $('#notificacion-6_12').addClass('show');
                $('#notificacion-6_12').removeClass('collpase');
            break;
             
        }
    });
    function Reset(num) {
        $('#clientes_cuponera').removeClass('show');
        $('#clientes_cuponera').addClass('collpase');

        $('#sinpedido').removeClass('show');
        $('#sinpedido').addClass('collpase');

        $('#deudoresTable').removeClass('show');
        $('#deudoresTable').addClass('collpase');

        
        switch (num){
            case 1:
                $('#clientes_cuponera').removeClass('collpase');
                $('#clientes_cuponera').addClass('show');
            break;
            case 2:
                $('#sinpedido').removeClass('collpase');
                $('#sinpedido').addClass('show');
            break;
            case 3:
                $('#deudoresTable').addClass('show');
                $('#deudoresTable').removeClass('collpase');
            break;
             
        }
    }
  });
</script>
<input type="text" id="array_notif_" hidden value="{{notif_}}">
<input type="text" id="notif1_2" hidden value="{{notif1_2}}">
<input type="text" id="notif3_5" hidden value="{{notif3_5}}">
<input type="text" id="notif6_12" hidden value="{{notif6_12}}">
<!-- BEGIN: Content-->
<div class="app-content content ">
  <div class="content-overlay"></div>
  <div class="header-navbar-shadow"></div>
    <div class="content-wrapper">
      <div class="content-body">
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Fecha desde</label>
                    <input type="text" class="form-control flatpickr-basic flatpickr-input" placeholder="YYYY-MM-DD" readonly="readonly">
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Fecha hasta</label>
                    <input type="text" class="form-control flatpickr-basic flatpickr-input" placeholder="YYYY-MM-DD" readonly="readonly">
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Zona</label>
                    <div class="position-relative" data-select2-id="45">
                      <select class="select2 form-select select2-hidden-accessible" tabindex="-1" aria-hidden="true">
                        <option value="">Seleccionar Zona</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Chofer</label>
                    <select type="text" class="form-control select2"></select>
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Cantidad Pedidos</label>
                    <input type="number" class="form-control" placeholder="1">
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Cantidad Garrafones</label>
                    <input type="number" class="form-control" placeholder="1">
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <label class="form-label">Categorías</label>
                    <select type="text" class="form-control select2">
                      <option value="">Seleccionar Categoría</option>
                      <option value="">Refil</option>
                      <option value="">Canje</option>
                      <option value="">Nuevo</option>
                      <option value="">Obsequio</option>
                    </select>
                  </div>
                  <div class="col-6 col-md-3 mb-1 d-flex align-items-end">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="clientesNuevos" value="checked">
                        <label class="form-check-label mb-1" for="clientesNuevos">Clientes Nuevos</label>
                    </div>
                  </div>
                  <div class="col-6 col-md-3 mb-1">
                    <button class="btn btn-primary">Mostrar</button>
                  </div>


                  {{!<button id="btn">Reset</button>}}
                </div>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-12 col-md-6">
                    <div id="chart"></div>
                  </div>
                  <div class="col-12 col-md-6">
                    <div id="chart2"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script>
  /*let btn = document.getElementById('btn')

  btn.addEventListener('click', () => {
    //reset()
    chart.updateSeries(randomize())
  });*/

  let options = {
      series: [44, 55, 13, 33],
      chart: {
      width: 100 + '%',
      type: 'donut',
    },
    dataLabels: {
      enabled: false
    },
    responsive: [{
      breakpoint: 480,
      options: {
        chart: {
          width: 200
        },
        legend: {
          show: false
        }
      }
    }],
    legend: {
      position: 'top',
      offsetY: 0,
      height: 50,
    }
  };
  
  function appendData() {
    var arr = chart.w.globals.series.slice()
    arr.push(Math.floor(Math.random() * (100 - 1 + 1)) + 1)
    return arr;
  }
  
  function removeData() {
    var arr = chart.w.globals.series.slice()
    arr.pop()
    return arr;
  }
  
  function randomize() {
    return chart.w.globals.series.map(function() {
        return Math.floor(Math.random() * (100 - 1 + 1)) + 1
    })
  }
  
  function reset() {
    return options.series
  }

  let chart = new ApexCharts(document.querySelector("#chart"), options);
  let chart2 = new ApexCharts(document.querySelector("#chart2"), options);
  chart.render();
  chart2.render();

</script>