"use strict";$(function(){$("#count_refill_garrafon").on("change",e=>{let t=e.target.value,a=$("#count_canje_garrafon").val(),l=$("#count_enNew_garrafon").val(),o=$("#count_enobsequio_garrafon").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=35*parseInt(t);"Punto de venta"!=$("#tipo_c_pedido").val()&&"Negocio"!=$("#tipo_c_pedido").val()||(r=30*parseInt(t)),$("#descuento_upd_cliente1").val()>0&&(r=parseInt(t)*$("#descuento_upd_cliente1").val()),$("#refill_garrafon_mont").val(r),$("#total_garrafon").val(n),$("#cant_garrafon").text(n);let _=parseInt($("#canje_garrafon_mont").val())+parseInt($("#refill_garrafon_mont").val())+parseInt($("#enNew_garrafon_mont").val());$("#monto_garrafon_input").val(_),$("#monto_garrafon").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_canje_garrafon").on("change",e=>{let t=e.target.value,a=$("#count_refill_garrafon").val(),l=$("#count_enNew_garrafon").val(),o=$("#count_enobsequio_garrafon").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=55*parseInt(t);"Punto de venta"!=$("#tipo_c_pedido").val()&&"Negocio"!=$("#tipo_c_pedido").val()||(r=30*parseInt(t)),$("#canje_garrafon_mont").val(r),$("#total_garrafon").val(n),$("#cant_garrafon").text(n);let _=parseInt($("#canje_garrafon_mont").val())+parseInt($("#refill_garrafon_mont").val())+parseInt($("#enNew_garrafon_mont").val());$("#monto_garrafon_input").val(_),$("#monto_garrafon").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enNew_garrafon").on("change",e=>{let t=e.target.value,a=$("#count_refill_garrafon").val(),l=$("#count_canje_garrafon").val(),o=$("#count_enobsequio_garrafon").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=105*parseInt(t);$("#enNew_garrafon_mont").val(r),$("#total_garrafon").val(n),$("#cant_garrafon").text(n);let _=parseInt($("#canje_garrafon_mont").val())+parseInt($("#refill_garrafon_mont").val())+parseInt($("#enNew_garrafon_mont").val());$("#monto_garrafon_input").val(_),$("#monto_garrafon").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enobsequio_garrafon").on("change",e=>{let t=e.target.value,a=$("#count_refill_garrafon").val(),l=$("#count_canje_garrafon").val(),o=$("#count_enNew_garrafon").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o);$("#total_garrafon").val(n),$("#cant_garrafon").text(n)}),$("#count_refill_botella").on("change",e=>{let t=e.target.value,a=$("#count_canje_botella").val(),l=$("#count_enNew_botella").val(),o=$("#count_enobsequio_botella").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=35*parseInt(t);"Punto de venta"!=$("#tipo_c_pedido").val()&&"Negocio"!=$("#tipo_c_pedido").val()||(r=30*parseInt(t)),$("#refill_botella_mont").val(r),$("#total_botella").val(n),$("#cant_botella").text(n);let _=parseInt($("#canje_botella_mont").val())+parseInt($("#refill_botella_mont").val())+parseInt($("#enNew_botella_mont").val());$("#monto_botella_input").val(_),$("#monto_botella").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_canje_botella").on("change",e=>{let t=e.target.value,a=$("#count_refill_botella").val(),l=$("#count_enNew_botella").val(),o=$("#count_enobsequio_botella").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=55*parseInt(t);$("#canje_botella_mont").val(r),$("#total_botella").val(n),$("#cant_botella").text(n);let _=parseInt($("#canje_botella_mont").val())+parseInt($("#refill_botella_mont").val())+parseInt($("#enNew_botella_mont").val());$("#monto_botella_input").val(_),$("#monto_botella").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enNew_botella").on("change",e=>{let t=e.target.value,a=$("#count_refill_botella").val(),l=$("#count_canje_botella").val(),o=$("#count_enobsequio_botella").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=105*parseInt(t);$("#enNew_botella_mont").val(r),$("#total_botella").val(n),$("#cant_botella").text(n);let _=parseInt($("#canje_botella_mont").val())+parseInt($("#refill_botella_mont").val())+parseInt($("#enNew_botella_mont").val());$("#monto_botella_input").val(_),$("#monto_botella").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enobsequio_botella").on("change",e=>{let t=e.target.value,a=$("#count_refill_botella").val(),l=$("#count_canje_botella").val(),o=$("#count_enNew_botella").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o);$("#total_botella").val(n),$("#cant_botella").text(n)}),$("#count_refill_garrafon11l").on("change",e=>{let t=e.target.value,a=$("#count_canje_garrafon11l").val(),l=$("#count_enNew_garrafon11l").val(),o=$("#count_enobsequio_garrafon11l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=35*parseInt(t);"Punto de venta"!=$("#tipo_c_pedido").val()&&"Negocio"!=$("#tipo_c_pedido").val()||(r=30*parseInt(t)),$("#descuento_upd_cliente1").val()>0&&(r=parseInt(t)*$("#descuento_upd_cliente1").val()),$("#refill_garrafon11l_mont").val(r),$("#total_garrafon11l").val(n),$("#cant_garrafon11l").text(n);let _=parseInt($("#canje_garrafon11l_mont").val())+parseInt($("#refill_garrafon11l_mont").val())+parseInt($("#enNew_garrafon11l_mont").val());$("#monto_garrafon11l_input").val(_),$("#monto_garrafon11l").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_canje_garrafon11l").on("change",e=>{let t=e.target.value,a=$("#count_refill_garrafon11l").val(),l=$("#count_enNew_garrafon11l").val(),o=$("#count_enobsequio_garrafon11l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=55*parseInt(t);$("#canje_garrafon11l_mont").val(r),$("#total_garrafon11l").val(n),$("#cant_garrafon11l").text(n);let _=parseInt($("#canje_garrafon11l_mont").val())+parseInt($("#refill_garrafon11l_mont").val())+parseInt($("#enNew_garrafon11l_mont").val());$("#monto_garrafon11l_input").val(_),$("#monto_garrafon11l").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enNew_garrafon11l").on("change",e=>{let t=e.target.value,a=$("#count_refill_garrafon11l").val(),l=$("#count_canje_garrafon11l").val(),o=$("#count_enobsequio_garrafon11l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=105*parseInt(t);$("#enNew_garrafon11l_mont").val(r),$("#total_garrafon11l").val(n),$("#cant_garrafon11l").text(n);let _=parseInt($("#canje_garrafon11l_mont").val())+parseInt($("#refill_garrafon11l_mont").val())+parseInt($("#enNew_garrafon11l_mont").val());$("#monto_garrafon11l_input").val(_),$("#monto_garrafon11l").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enobsequio_garrafon11l").on("change",e=>{let t=e.target.value,a=$("#count_refill_garrafon11l").val(),l=$("#count_canje_garrafon11l").val(),o=$("#count_enNew_garrafon11l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=105*parseInt(t);$("#enNew_garrafon11l_mont").val(r),$("#total_garrafon11l").val(n),$("#cant_garrafon11l").text(n)}),$("#count_refill_botella5l").on("change",e=>{let t=e.target.value,a=$("#count_canje_botella5l").val(),l=$("#count_enNew_botella5l").val(),o=$("#count_enobsequio_botella5l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=35*parseInt(t);$("#refill_botella5l_mont").val(r),$("#total_botella5l").val(n),$("#cant_botella5l").text(n);let _=parseInt($("#canje_botella5l_mont").val())+parseInt($("#refill_botella5l_mont").val())+parseInt($("#enNew_botella5l_mont").val());$("#monto_botella5l_input").val(_),$("#monto_botella5l").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_canje_botella5l").on("change",e=>{let t=e.target.value,a=$("#count_refill_botella5l").val(),l=$("#count_enNew_botella5l").val(),o=$("#count_enobsequio_botella5l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=55*parseInt(t);$("#canje_botella5l_mont").val(r),$("#total_botella5l").val(n),$("#cant_botella5l").text(n);let _=parseInt($("#canje_botella5l_mont").val())+parseInt($("#refill_botella5l_mont").val())+parseInt($("#enNew_botella5l_mont").val());$("#monto_botella5l_input").val(_),$("#monto_botella5l").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enNew_botella5l").on("change",e=>{let t=e.target.value,a=$("#count_refill_botella5l").val(),l=$("#count_canje_botella5l").val(),o=$("#count_enobsequio_botella5l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=105*parseInt(t);$("#enNew_botella5l_mont").val(r),$("#total_botella5l").val(n),$("#cant_botella5l").text(n);let _=parseInt($("#canje_botella5l_mont").val())+parseInt($("#refill_botella5l_mont").val())+parseInt($("#enNew_botella5l_mont").val());$("#monto_botella5l_input").val(_),$("#monto_botella5l").text(_);let i=parseInt($("#monto_garrafon_input").val())+parseInt($("#monto_botella_input").val())+parseInt($("#monto_garrafon11l_input").val())+parseInt($("#monto_botella5l_input").val());if($("#total_total_inp").val(i),$('input[name="deuda_anterior"]').val()>0&&($("#sub_total_total").text(i),i=parseInt(i)+parseInt($('input[name="deuda_anterior"]').val())),$("#total_total").text(i),$("#descuento_referido_box").is(":visible")){let e=.2*i;$("#desc_referido").text(e),$("#inp_desc_ref").val(e);let t=i-e;$("#total_total").text(t),$("#total_total_inp").val(t)}}),$("#count_enobsequio_botella5l").on("change",e=>{let t=e.target.value,a=$("#count_refill_botella5l").val(),l=$("#count_canje_botella5l").val(),o=$("#count_enNew_botella5l").val(),n=parseInt(t)+parseInt(a)+parseInt(l)+parseInt(o),r=105*parseInt(t);$("#enNew_botella5l_mont").val(r),$("#total_botella5l").val(n),$("#cant_botella5l").text(n)}),$("#id_cliente_reg_pedido").on("change",e=>{$("#modifica_cliente_input").val("NO");var t=$("#array").val(),a=JSON.parse(t.replace(/&quot;/g,'"'));$("#descuento_referido_box").addClass("d-none"),$("#descuento-upd-cliente").addClass("d-none");let l=e.target.value,o=$("#array_pedido").val();var n=JSON.parse(o.replace(/&quot;/g,'"'));console.log(a);var r=a.find(e=>e.id==l);if(console.log(r),console.log(r.cantidad_referidos),r.cantidad_referidos>0){let e=n.filter(e=>"Entregado"==e.status_pedido&&e.cliente.referido_de==l);console.log(e),e.length>0&&($("#id_referenciado").val(e[0].cliente.id),$("#descuento_referido_box").removeClass("d-none"),$("#observaciion-reg-pedido").val("Descuento por referido"))}$("#tipo_c_pedido").val(r.tipo),$("#nombre_c_pedido").val(r.firstName),$("#apellido_c_pedido").val(r.lastName),$("#cp_select_pedido").val(r.estado),$("#municipio_pedido").val(r.municipio),0==$("#select_asentamiento_me option[value='"+r.cpId+"']").length?(console.log("option doesn't exist!"),$("#select_asentamiento_me").prepend('<option selected value="'+r.cpId+'">'+r.cp.asentamiento+"</option>")):(console.log("option exist!"),$("#select_asentamiento_me option[value='"+r.cpId+"']").attr("selected",!0)),"Negocio"!=r.tipo&&"Punto de venta"!=r.tipo||($("#descuento-upd-cliente").removeClass("d-none"),$("#descuento_upd_cliente1").val(r.monto_nuevo)),0==$("#reg_zona_cliente_pedido option[value='"+r.sucursaleId+"']").length?console.log("option doesn't exist!"):(console.log("option exist!"),$("#reg_zona_cliente_pedido option[value='"+r.sucursaleId+"']").attr("selected",!0)),0==$("#color_tag_reg_pedido option[value='"+r.etiquetaId+"']").length?console.log("option doesn't exist!"):(console.log("option exist!"),$("#color_tag_reg_pedido option[value='"+r.etiquetaId+"']").attr("selected",!0)),$("#color_tag_reg_pedido").val(`${r.etiquetaId}`).trigger("change"),$("#fraccionamiento_pedido").val(r.fraccionamiento),$("#coto_c_pedido").val(r.coto),$("#casa_c_pedido").val(r.casa),$("#calle_c_pedido").val(r.calle),$("#avenida_c_pedido").val(r.avenida),$("#referencia_c_pedido").val(r.referencia),$("#telefono_c_pedido").val(r.telefono);const _=new FormData;_.append("id_cliente",l),$.ajax({url:"/verificar_deuda",type:"POST",data:_,cache:!1,contentType:!1,processData:!1,success:function(e,t,a){$("#deuda_box").attr("style","display:none"),$("#prestados_box").attr("style","display:none"),$('input[name="deuda_anterior"]').val("0"),console.log(e),e.deuda>0&&($("#deuda_box").removeAttr("style"),$("#deuda_verf").text(e.deuda),$("#prestados_anterior").text(e.prestados),$('input[name="deuda_anterior"]').val(e.deuda),$("#status_pago").val("Por verificar"))},error:function(e,t){console.log("error:"+e)}}),fetch("/prestadospy4").then(e=>e.json()).then(e=>{let t=JSON.parse(e.prestamos_byday);console.log(t);let a=t.filter(e=>e.clienteId==l&&e.cantidad>0);if(console.log(a),a.length>0){$("#prestados_box").removeAttr("style");let e=0;for(let t=0;t<a.length;t++)e+=parseInt(a[t].cantidad);$("#prestados_anterior").text(e)}})}),$("#metodo_pago").on("change",e=>{let t=e.target.value;if(console.log(t),"Transferencia"==t)console.log("Por verificar"),$("#status_pago").val("Por verificar");else{if(console.log("Pagado"),""!=$("#deuda_anterior").val())return $("#status_pago").val("Por verificar");$("#status_pago").val("Pagado")}}),$("#chofer").on("change",()=>{var e=$("#chofer").find(":selected").data("id");console.log(e),$("#id_chofer").val(e)}),$("#tipo-cliente-reg").change(e=>{console.log(e.target.value);let t=e.target.value;"Negocio"!=t&&"Punto de venta"!=t||($("#descuento-reg-cliente").removeClass("d-none"),$("#descuento_reg_cliente1").val(0))}),0==$("#exampleClientes").length&&($("#add_cliente_modal").click(()=>""==$("#nombre-cliente-reg").val()?(Swal.fire("Debe colocar un nombre al cliente"),$("#nombre-cliente-reg").focus()):""==$("#apellido-cliente-reg").val()?(Swal.fire("Debe colocar un número de teléfono"),$("#apellido-cliente-reg").focus()):null==$("#select_asentamiento").val()?(Swal.fire("Debe ingresar el código postal"),$("#cp_select").focus()):""==$("#tlf-add-cliente").val()?(Swal.fire("Debe colocar un número de teléfono"),$("#tlf-add-cliente").focus()):"0"==$("#reg_zona_cliente").val()?(Swal.fire("Debe colocar una zona de cliente"),$("#reg_zona_cliente").focus()):"0"==$("#color_tag_reg_cliente").val()?(Swal.fire("Debe colocar una etiqueta al cliente"),$("#color_tag_reg_cliente").focus()):void $.ajax({url:"/save_cliente_py4",type:"POST",data:$("#form_reg_cliente").serialize(),success:function(e,t,a){if(console.log(e),e.error)return $(".modal").modal("hide"),void Swal.fire(e.error);let l,o;0==$("#pedidostable").length?(console.log("here"),l=e.clientes,$("#array").val(JSON.stringify(e.clientes))):(l=JSON.parse(e.clientes),$("#array").val(e.clientes),console.log(JSON.parse($("#array").val()))),$("#id_cliente_reg_pedido").empty(),$("#id_cliente_reg_pedido").append('<option selected="" value="default"> Seleccione un cliente </option>');for(let e=0;e<l.length;e++)null==l[e].cp?(console.log(l[e].cp),console.log(l[e]),o=""):l[e].cp.asentamiento&&(o=l[e].cp.asentamiento),$("#id_cliente_reg_pedido").append(`<option value="${l[e].id}"> ${l[e].firstName} ${l[e].lastName} / ${o}</option>`);$("#form_reg_cliente")[0].reset(),$(".modal").modal("hide"),Swal.fire("Se creó con éxito al cliente")},error:function(e,t){console.log("error:"+e)}})),$("#btn_add_cp").click(()=>""==$("#cp_add").val()?(Swal.fire("Debe colocar un código postal"),$("#cp_add").focus()):""==$("#asentamiento_add").val()?(Swal.fire("Debe colocar asentamiento"),$("#asentamiento_add").focus()):"0"==$("#municipio_add").val()?(Swal.fire("Debe seleccionar un municipio"),$("#municipio_add").focus()):void $.ajax({url:"/save_cp_new",type:"POST",data:$("#agregar_cp").serialize(),success:function(e,t,a){if(console.log(e),e.error)return $("#add_cp").modal("hide"),void Swal.fire(e.error);$("#agregar_cp")[0].reset(),$("#add_cp").modal("hide"),Swal.fire("Se creó con éxito asentamiento")},error:function(e,t){console.log("error:"+e)}}))),$("#carga_").length>0||$("#btn_reg_pedido").on("click",async e=>"default"==$("#id_cliente_reg_pedido").val()?(Swal.fire("Debe seleccionar un cliente"),void $("#id_cliente_reg_pedido").focus()):"default"==$("#chofer").val()?(Swal.fire("Debe seleccionar un chofer"),void $("#chofer").focus()):void("0"!=$("#reg_zona_cliente_pedido").val()?"0"!=$("#color_tag_reg_pedido").val()?"0"!=$("#total_total_inp").val()?$.ajax({url:"/reg_pedido_modal",type:"POST",data:$("#reg_pedido_modal1").serialize(),success:function(e,t,a){console.log(e),Swal.fire('Se creó con éxito el pedido, debe acceder al "Tablero" para observarlo a detalle'),$(".modal").modal("hide"),$("#reg_pedido_modal1").trigger("reset");let l=moment().format("YYYY-MM-DD");$("#fecha_pedido").val(l),$("#cant_garrafon").text("0"),$("#monto_garrafon").text("0"),$("#sub_total_total").text("0"),$("#deuda_verf").text("0"),$("#total_total").text("0"),$("#deuda_box").attr("style","display:none"),$("#prestados_box").attr("style","display:none"),$("#id_cliente_reg_pedido option[value='default']").attr("selected",!0),$("#id_cliente_reg_pedido").val("default").trigger("change")},error:function(e,t){console.log("error:"+e)}}):Swal.fire("Debe agregar al menos un producto para continuar"):Swal.fire("Debe asignar una etiqueta al cliente"):Swal.fire("Debe asignar una zona al cliente"))),$("#btn-close-pedido").on("click",()=>{$("#reg_pedido_modal1").trigger("reset");let e=moment().format("YYYY-MM-DD");$("#fecha_pedido").val(e),$("#cant_garrafon").text("0"),$("#monto_garrafon").text("0"),$("#sub_total_total").text("0"),$("#deuda_verf").text("0"),$("#total_total").text("0"),$("#deuda_box").attr("style","display:none"),$("#prestados_box").attr("style","display:none"),$("#id_cliente_reg_pedido option[value='default']").attr("selected",!0),$("#id_cliente_reg_pedido").val("default").trigger("change")}),$("#btn-close-cliente").on("click",()=>{$("#form_reg_cliente").trigger("reset"),$("#municipio").text(""),$("#select_asentamiento").val("default").trigger("change"),$("#color_tag_reg_cliente").val("0").trigger("change")})}),$("#modifica_cliente_btn").on("click",function(){console.log("Testing"),$("#modifica_cliente_input").val("SI")});